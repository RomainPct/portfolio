!function(){function e(){return"ontouchstart"in document.documentElement}function s(){return""==$("#message_input").val()?($("#message_input").addClass("error"),!1):($("#message_input").removeClass("error"),!0)}function n(){a()&&u()&&(d.animate({height:"100%"},300,$.bez([.2,0,.4,1]),function(){$("#answer2").css("display","none")}),r(),setTimeout(function(){$("html,body").css("overflow-y","auto"),$("#message_beginning").css("display","none"),$("#message_end").css("display","block");const e=$("#contact").offset().top+$("#contact_form").height()/2-$("html").height()/2-10;$("html,body").scrollTop(e),m.css({top:"-50%",opacity:"0"}),$("#message_end").css({opacity:"1",transform:"translateY(0%)","-webkit-transform":"translateY(0%)"})},1850),t())}function t(){var e={message:$("#message_input").val(),name:$("#name_input").val(),email:$("#mail_input").val()};$.post("php/send_contact_form.php",e).fail(function(){alert("Une erreur vient de se produire. Merci de me contacter simplement par mail : romain.penchenat@gmail.com")})}function a(){const e=$("#name_input").val();return""==e||e.length>50?($("#name_input").addClass("error"),!1):($("#name_input").removeClass("error"),!0)}function u(){const e=$("#mail_input").val(),s=/^([a-z\d!#$%&'*+\-\/=?^_`{|}~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+(\.[a-z\d!#$%&'*+\-\/=?^_`{|}~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+)*|"((([ \t]*\r\n)?[ \t]+)?([\x01-\x08\x0b\x0c\x0e-\x1f\x7f\x21\x23-\x5b\x5d-\x7e\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|\\[\x01-\x09\x0b\x0c\x0d-\x7f\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))*(([ \t]*\r\n)?[ \t]+)?")@(([a-z\d\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|[a-z\d\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF][a-z\d\-._~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]*[a-z\d\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])\.)+([a-z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|[a-z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF][a-z\d\-._~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]*[a-z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])\.?$/i;return""==e||e.length>100||!s.test(e)?($("#mail_input").addClass("error"),!1):($("#mail_input").removeClass("error"),!0)}function o(e,s){var n=0,t=0;$("#messages .row").each(function(s){t<e&&(n+=$(this).outerHeight(),t++)}),n>$("#fixed_form .frame").height()&&setTimeout(function(){d.animate({scrollTop:d.prop("scrollHeight")},200)},s)}function i(){d.append('<div class="row"><div class="col xs-10 offset-xs-2 text-right po-adaptativ-margin"><div id="message2" class="box message message-user new-message yellow-accent"><h4 class="text-left">'+$("#message_input").val().replace(/\n/g,"<br>")+"</h4></div></div></div>"),setTimeout(function(){$("#message2").removeClass("new-message"),o(2,500)},150)}function c(){d.append('<div class="row"><div class="col xs-10 po-adaptativ-margin"><div id="message3" class="box message new-message message-me blue-bg"><h4 class="text-white100">Merci pour votre message ! <br> Pourriez-vous me communiquer vos coordonnées afin que je puisse vous répondre prochainement ?</h4></div></div></div>'),setTimeout(function(){$("#message3").removeClass("new-message"),o(3,500)},700)}function F(){const e=$(".frame").height()-$("#answer2").height();setTimeout(function(){$("#answer2").css("display","block"),d.animate({height:e+"px"},300,function(){o(3,0)})},1250)}function r(){d.append('<div class="row"><div class="col xs-10 offset-xs-2 text-right po-adaptativ-margin"><div id="message4" class="box message message-user new-message yellow-accent"><h4 class="text-left"><div class="bold">'+$("#name_input").val()+"</div>"+$("#mail_input").val()+"</h4></div></div></div>"),setTimeout(function(){$("#message4").removeClass("new-message"),o(4,500)},150)}const m=$("#fixed_contact_form"),l=$("#fixed_form"),d=$("#messages");var p=!1;$(".dir_message_textarea").on("click",function(){if(!p){const s=$("#contact").offset().top+$("#contact_form").height()/2-$("html").height()/2-10;$("html,body").animate({scrollTop:s+"px"},200,$.bez([.4,0,.2,1]),function(){m.css({display:"block","background-color":"rgba(0,0,0,0.5)"}),e()?$("#input_accroche").blur():$("#message_input").focus(),l.animate({height:"100%"},500,$.bez([.4,0,.2,1]),function(){p=!0})})}}),$(".send_message").on("click",function(){s()&&(p=!1,$("html,body").css("overflow-y","hidden"),d.animate({height:"100%"},300,$.bez([.2,0,.4,1]),function(){$("#answer1").css("display","none")}),i(),c(),F())}),$("#message_input").on("change paste keyup",function(){s()}),$(".send_contact_info").on("click",function(){n()}),$("#mail_input").on("keyup",function(e){13==e.keyCode&&n()}),$("#name_input").on("change paste keyup",function(){a()}),$("#mail_input").on("change paste keyup",function(){u()}),$(window).on("scroll",function(){p&&(e()||(p=!1,$("#input_accroche").blur(),m.css({"background-color":"rgba(0,0,0,0.0)"}),l.animate({height:"0%"},300,$.bez([.4,0,.2,1]),function(){m.css("display","none"),l.css("height","auto")})))})}(jQuery);