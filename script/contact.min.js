!function(){function e(e,s){var o=0,n=0;$("#messages .row").each(function(s){n<e&&(o+=$(this).outerHeight(),n++)}),o>$("#fixed_form .frame").height()&&setTimeout(function(){$("#messages").animate({scrollTop:$("#messages").prop("scrollHeight")},200)},s)}function s(){$("#messages").append('<div class="row"><div class="col xs-10 offset-xs-2 text-right po-no-bottom-margin"><div id="message2" class="box message message-user new-message yellow-accent"><h4 class="text-left">'+$("#message_input").val().replace(/\n/g,"<br>")+"</h4></div></div></div>"),setTimeout(function(){$("#message2").removeClass("new-message"),e(2,500)},150)}function o(){$("#messages").append('<div class="row"><div class="col xs-10 po-no-bottom-margin"><div id="message3" class="box message new-message message-me blue-bg"><h4>Merci beaucoup pour votre message ! <br> Pourriez-vous me communiquer vos coordonnées afin que je puisse vous répondre prochainement ?</h4></div></div></div>'),setTimeout(function(){$("#message3").removeClass("new-message"),e(3,500)},700)}function n(){const s=$(".frame").height()-$("#answer2").height();setTimeout(function(){$("#answer2").css("display","block"),$("#messages").animate({height:s+"px"},300,function(){e(3,0)})},1250)}const a=$("#fixed_contact_form"),i=$("#fixed_form");var t=!1;$(".dir_message_textarea").on("click",function(){if(!t){console.log("fonction ouverture");const e=$("#contact").offset().top+$("#contact_form").height()/2-$("html").height()/2-10;$("html,body").animate({scrollTop:e+"px"},200,$.bez([.4,0,.2,1]),function(){a.css({display:"block","background-color":"rgba(0,0,0,0.5)"}),$("#message_input").focus(),t=!0,i.animate({height:"100%"},500,$.bez([.4,0,.2,1]))})}}),$(".send_message").on("click",function(){""!=$("#message_input").val()?(t=!1,$("html,body").css("overflow-y","hidden"),$("#messages").animate({height:"100%"},300,$.bez([.2,0,.4,1]),function(){$("#answer1").css("display","none")}),s(),o(),n()):alert("Vous n'avez pas saisi de message fdp")}),$(window).on("scroll",function(){t&&(console.log("fonction fermeture"),t=!1,a.css({display:"none","background-color":"rgba(0,0,0,0.0)"}))})}(jQuery);