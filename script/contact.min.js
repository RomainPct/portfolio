!function(){function e(){return"ontouchstart"in document.documentElement}function s(){return""==$("#message_input").val()?($("#message_input").addClass("error"),!1):($("#message_input").removeClass("error"),!0)}function t(){a()&&i()&&(p.animate({height:"100%"},300,$.bez([.2,0,.4,1]),function(){$("#answer2").css("display","none")}),r(),setTimeout(function(){$("html,body").css("overflow-y","initial"),$("#message_beginning").css("display","none"),$("#message_end").css("display","block");const e=$("#contact").offset().top+$("#contact_form").height()/2-$("html").height()/2-10;$("html,body").scrollTop(e),l.css({top:"-50%",opacity:"0"}),$("#message_end").css({opacity:"1",transform:"translateY(0%)","-webkit-transform":"translateY(0%)"}),$("#beep-me").trigger("play")},1850),n())}function n(){var e={message:$("#message_input").val(),name:$("#name_input").val(),email:$("#mail_input").val()};$.post("php/send_contact_form.php",e).fail(function(){alert("Une erreur vient de se produire. Merci de me contacter simplement par mail : romain.penchenat@gmail.com")})}function a(){const e=$("#name_input").val();return""==e||e.length>50?($("#name_input").addClass("error"),!1):($("#name_input").removeClass("error"),!0)}function i(){const e=$("#mail_input").val(),s=/^([a-z\d!#$%&'*+\-\/=?^_`{|}~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+(\.[a-z\d!#$%&'*+\-\/=?^_`{|}~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+)*|"((([ \t]*\r\n)?[ \t]+)?([\x01-\x08\x0b\x0c\x0e-\x1f\x7f\x21\x23-\x5b\x5d-\x7e\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|\\[\x01-\x09\x0b\x0c\x0d-\x7f\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))*(([ \t]*\r\n)?[ \t]+)?")@(([a-z\d\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|[a-z\d\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF][a-z\d\-._~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]*[a-z\d\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])\.)+([a-z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|[a-z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF][a-z\d\-._~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]*[a-z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])\.?$/i;return""==e||e.length>100||!s.test(e)?($("#mail_input").addClass("error"),!1):($("#mail_input").removeClass("error"),!0)}function u(e,s){var t=0,n=0;$("#messages .row").each(function(s){n<e&&(t+=$(this).outerHeight(),n++)}),t>$("#fixed_form .frame").height()&&setTimeout(function(){p.animate({scrollTop:p.prop("scrollHeight")},200)},s)}function o(){p.append('<div class="row"><div class="col xs-10 offset-xs-2 text-right po-adaptativ-margin"><div id="message2" class="box message message-user new-message yellow-accent"><h4 class="text-left">'+$("#message_input").val().replace(/\n/g,"<br>")+"</h4></div></div></div>"),setTimeout(function(){$("#message2").removeClass("new-message"),u(2,500),$("#beep-user").trigger("play")},150)}function c(){p.append('<div class="row"><div class="col xs-10 po-adaptativ-margin"><div id="message3" class="box message new-message message-me blue-bg"><h4 class="text-white100">'+$("#message2-data").html()+"</h4></div></div></div>"),setTimeout(function(){$("#message3").removeClass("new-message"),u(3,500),$("#beep-me").trigger("play")},700)}function F(){const e=$(".frame").height()-$("#answer2").height();setTimeout(function(){$("#answer2").css("display","block"),p.animate({height:e+"px"},300,function(){u(3,0)})},1250)}function r(){p.append('<div class="row"><div class="col xs-10 offset-xs-2 text-right po-adaptativ-margin"><div id="message4" class="box message message-user new-message yellow-accent"><h4 class="text-left"><div class="bold">'+$("#name_input").val()+"</div>"+$("#mail_input").val()+"</h4></div></div></div>"),setTimeout(function(){$("#message4").removeClass("new-message"),u(4,500),$("#beep-user").trigger("play")},150)}const l=$("#fixed_contact_form"),m=$("#fixed_form"),p=$("#messages");var d=!1;$(".dir_message_textarea").on("click",function(){if(!d){const s=$("#contact").offset().top+$("#contact_form").height()/2-$("html").height()/2-10;$("html,body").animate({scrollTop:s+"px"},200,$.bez([.4,0,.2,1]),function(){l.css({display:"block","background-color":"rgba(0,0,0,0.5)"}),e()?$("#input_accroche").blur():$("#message_input").focus(),m.animate({height:"100%"},500,$.bez([.4,0,.2,1]),function(){d=!0})})}}),$(".send_message").on("click",function(){s()&&(d=!1,$("html,body").css("overflow-y","hidden"),p.animate({height:"100%"},300,$.bez([.2,0,.4,1]),function(){$("#answer1").css("display","none")}),o(),c(),F())}),$("#message_input").on("change paste keyup",function(){s()}),$(".send_contact_info").on("click",function(){t()}),$("#mail_input").on("keyup",function(e){13==e.keyCode&&t()}),$("#name_input").on("change paste keyup",function(){a()}),$("#mail_input").on("change paste keyup",function(){i()}),$(window).on("scroll",function(){d&&(e()||(d=!1,$("#input_accroche").blur(),l.css({"background-color":"rgba(0,0,0,0.0)"}),m.animate({height:"0%"},300,$.bez([.4,0,.2,1]),function(){l.css("display","none"),m.css("height","auto")})))})}(jQuery);